<div class="modal" id="modal-create-update-menu-element" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">{{ title }}</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                {{ form_start(form, { 'id' : 'form-create-update-menu-element', 'action': url }) }}

                {{ form_row(form.parent) }}

                <div id="field_position" data-url="{{ path('admin_menu_ajax_menu_position', {'id' : 'element-parent'}) }}" data-loading="{{ "admin_menu#Chargement des positions" | trans }}">

                </div>

                {{ form_row(form.position) }}

                {{ form_row(form.isDirectLink) }}

                {{ form_row(form.url) }}

                {{ form_row(form.page, {'attr' : {'data-url' : path('admin_menu_ajax_menu_url_page', {'id' : 'id-page'})}}) }}

                {% set help = 'admin_menu#Laisser vide si vous souhaitez utilisé le slug rattaché à l\'élément choisi' | trans %}
                {{ form_row(form.slug, {'attr' : {'data-url' : path('admin_menu_ajax_menu_element_check_slug', {'id' : menu_element_id, 'slug' : 'param-slug'}), 'data-help' : help}}) }}

                {{ form_row(form.valider) }}

                {{ form_end(form) }}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

{% block javascripts %}

    <script>
        $(document).ready(function () {
            let modal = new bootstrap.Modal($('#modal-create-update-menu-element'), [])
            modal.toggle();

            Menu.EventModalMenuElement(modal);
            Menu.LoadPosition(0);
        });
    </script>

{% endblock %}