{% extends 'admin/admin.html.twig' %}

{% block title %}{{ "admin_route#Gestion des routes" | trans }}{% endblock %}

{% block body %}
<div id="admin-route-globale">
    <h1>{{ "admin_route#Gestion des routes" | trans }}</h1>

    {{ breadcrumb | breadcrumb | raw }}

    <div class="float-end">
        {% if 'admin_route_ajax_update' | isGranted %}
        <div id="btn-update-route" data-loading="{{ "admin_route#Mise à jour des routes..." | trans }}" data-url="{{ path('admin_route_ajax_update') }}" class="btn btn-primary mb-2">
            <i class="fas fa-sync-alt"></i> {{ "admin_route#Mise à jour des routes" | trans }}
        </div>
        {% endif %}
    </div>
    <div class="clearfix"></div>
    <div class="card">
        <div class="card-header">
            <div class="mt-2 float-start" id="info-route">
                - {{ "admin_route#Routes" | trans }}
            </div>
            <div class="float-end">
                {{ fieldSearch | inputSearch('#admin-route-globale .card-body', constant('App\\Controller\\Admin\\RouteController::SESSION_KEY_FILTER')) | raw }}
            </div>
        </div>
        <div class="card-body" data-url="{{ path('admin_route_ajax_listing') }}" data-loading="{{ "admin_route#Chargement des données..." | trans }}">

        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}

    <script>
        $( document ).ready(function() {
            Route.Launch();
            Route.PageListingEvent();
            Route.LoadListingRoute();
        });
    </script>

{% endblock %}
